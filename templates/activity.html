{% extends "base.html" %}

{% block title %}Activity | GymSphere{% endblock %}

{% block content %}
<div class="max-w-3xl mx-auto space-y-8 animate-fade-in-up">

  <!-- Progress Bar (Step 4/5 -> 80%) -->
  <div class="relative pt-1 max-w-xl mx-auto">
    <div class="flex mb-2 items-center justify-between">
      <div class="text-xs font-semibold text-cyan-200 uppercase tracking-widest">
        Step 4 of 5
      </div>
      <div class="text-right">
        <span class="text-xs font-semibold inline-block text-cyan-200">
          80%
        </span>
      </div>
    </div>
    <div class="overflow-hidden h-2 mb-4 text-xs flex rounded bg-white/10">
      <div style="width:80%"
        class="shadow-none flex flex-col text-center whitespace-nowrap text-white justify-center bg-gradient-to-r from-cyan-400 to-purple-500 transition-all duration-500">
      </div>
    </div>
  </div>

  <!-- Header -->
  <div class="text-center space-y-2">
    <h1 class="text-3xl md:text-4xl font-bold text-white">Activity Level</h1>
    <p class="text-gray-400">Be honest! This helps calculate your caloric needs.</p>
  </div>

  <!-- Form -->
  <form method="POST" action="{{ url_for('onboarding.activity') }}" class="space-y-8">

    <!-- 1. Activity Level Grid -->
    <div class="grid grid-cols-1 sm:grid-cols-3 md:grid-cols-5 gap-3">
      {% for level, emoji in [('Sedentary', 'ğŸ›‹ï¸'), ('Light', 'ğŸš¶'), ('Moderate', 'ğŸƒ'), ('Active', 'ğŸ‹ï¸'), ('Athlete',
      'ğŸ†')] %}
      <label class="group cursor-pointer">
        <input type="radio" name="activity_level" value="{{ level }}" class="peer sr-only" required>
        <div
          class="glass-panel p-4 flex flex-col items-center justify-center gap-3 h-full hover:border-cyan-400/50 transition-all duration-300 peer-checked:border-cyan-400 peer-checked:bg-white/5 peer-checked:ring-1 peer-checked:ring-cyan-400/50">
          <div class="text-3xl group-hover:scale-110 transition-transform">
            {{ emoji }}
          </div>
          <div class="text-sm font-medium text-gray-300 group-hover:text-white text-center">
            {{ level }}
          </div>
        </div>
      </label>
      {% endfor %}
    </div>

    <!-- 2. Frequency Input -->
    <div class="max-w-md mx-auto">
      <label class="block text-sm font-medium text-gray-300 mb-3 text-center">Workouts per week</label>
      <div class="relative flex items-center justify-center">
        <button type="button" onclick="this.parentNode.querySelector('input').stepDown()"
          class="w-12 h-12 rounded-l-xl bg-white/5 hover:bg-white/10 text-white border border-white/10 border-r-0 text-xl">-</button>
        <input type="number" min="1" max="14" name="freq_per_week" value="3"
          class="w-20 h-12 bg-black/20 border-y border-white/10 text-center text-xl font-bold text-cyan-400 focus:outline-none appearance-none m-0">
        <button type="button" onclick="this.parentNode.querySelector('input').stepUp()"
          class="w-12 h-12 rounded-r-xl bg-white/5 hover:bg-white/10 text-white border border-white/10 border-l-0 text-xl">+</button>
      </div>
    </div>

    <!-- Next Button -->
    <div class="pt-4 flex justify-between items-center max-w-xl mx-auto">
      <a href="{{ url_for('onboarding.measurements') }}"
        class="px-6 py-2 rounded-lg text-sm font-medium text-gray-400 hover:text-white hover:bg-white/5 transition-colors">
        â† Back
      </a>
      <button type="submit" class="btn-primary px-10 text-lg">
        Next Step <i class="fas fa-arrow-right ml-2 text-sm"></i>
      </button>
    </div>

  </form>

</div>
{% endblock %}
